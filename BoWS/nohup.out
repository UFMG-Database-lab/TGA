Building class representations:   0%|          | 0/399 [00:00<?, ?it/s]Building class representations:  41%|████▏     | 165/399 [00:00<00:00, 1648.35it/s]Building class representations:  87%|████████▋ | 346/399 [00:00<00:00, 1691.32it/s]Building class representations: 100%|██████████| 399/399 [00:00<00:00, 1748.92it/s]
Building Models:   0%|          | 0/3 [00:00<?, ?it/s]Building Models: 100%|██████████| 3/3 [00:00<00:00, 303.86it/s]0 399 101

Building class transformation:   0%|          | 0/399 [00:00<?, ?it/s]Building class transformation:  15%|█▌        | 61/399 [00:00<00:00, 555.34it/s]Building class transformation:  41%|████      | 163/399 [00:00<00:00, 762.38it/s]Building class transformation:  67%|██████▋   | 268/399 [00:00<00:00, 852.11it/s]Building class transformation:  95%|█████████▍| 378/399 [00:00<00:00, 902.53it/s]Building class transformation: 100%|██████████| 399/399 [00:00<00:00, 921.19it/s]
Building class transformation:   0%|          | 0/399 [00:00<?, ?it/s]Building class transformation:  20%|█▉        | 78/399 [00:00<00:00, 754.04it/s]Process ForkPoolWorker-13:
Traceback (most recent call last):
  File "/usr/lib/python3.6/multiprocessing/process.py", line 258, in _bootstrap
    self.run()
  File "/usr/lib/python3.6/multiprocessing/process.py", line 93, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/lib/python3.6/multiprocessing/pool.py", line 108, in worker
    task = get()
  File "/usr/lib/python3.6/multiprocessing/queues.py", line 334, in get
    with self._rlock:
  File "/usr/lib/python3.6/multiprocessing/synchronize.py", line 95, in __enter__
    return self._semlock.__enter__()
KeyboardInterrupt
Process ForkPoolWorker-19:
Traceback (most recent call last):
  File "/usr/lib/python3.6/multiprocessing/process.py", line 258, in _bootstrap
    self.run()
  File "/usr/lib/python3.6/multiprocessing/process.py", line 93, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/lib/python3.6/multiprocessing/pool.py", line 108, in worker
    task = get()
  File "/usr/lib/python3.6/multiprocessing/queues.py", line 334, in get
    with self._rlock:
  File "/usr/lib/python3.6/multiprocessing/synchronize.py", line 95, in __enter__
    return self._semlock.__enter__()
KeyboardInterrupt
Process ForkPoolWorker-20:
Traceback (most recent call last):
  File "/usr/lib/python3.6/multiprocessing/process.py", line 258, in _bootstrap
    self.run()
  File "/usr/lib/python3.6/multiprocessing/process.py", line 93, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/lib/python3.6/multiprocessing/pool.py", line 108, in worker
    task = get()
  File "/usr/lib/python3.6/multiprocessing/queues.py", line 334, in get
    with self._rlock:
  File "/usr/lib/python3.6/multiprocessing/synchronize.py", line 95, in __enter__
    return self._semlock.__enter__()
KeyboardInterrupt
Process ForkPoolWorker-16:
Traceback (most recent call last):
  File "/usr/lib/python3.6/multiprocessing/process.py", line 258, in _bootstrap
    self.run()
  File "/usr/lib/python3.6/multiprocessing/process.py", line 93, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/lib/python3.6/multiprocessing/pool.py", line 108, in worker
    task = get()
  File "/usr/lib/python3.6/multiprocessing/queues.py", line 334, in get
    with self._rlock:
  File "/usr/lib/python3.6/multiprocessing/synchronize.py", line 95, in __enter__
    return self._semlock.__enter__()
KeyboardInterrupt
Process ForkPoolWorker-24:
Traceback (most recent call last):
  File "/usr/lib/python3.6/multiprocessing/process.py", line 258, in _bootstrap
    self.run()
  File "/usr/lib/python3.6/multiprocessing/process.py", line 93, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/lib/python3.6/multiprocessing/pool.py", line 108, in worker
    task = get()
  File "/usr/lib/python3.6/multiprocessing/queues.py", line 334, in get
    with self._rlock:
  File "/usr/lib/python3.6/multiprocessing/synchronize.py", line 95, in __enter__
    return self._semlock.__enter__()
KeyboardInterrupt
Process ForkPoolWorker-17:
Traceback (most recent call last):
  File "/usr/lib/python3.6/multiprocessing/process.py", line 258, in _bootstrap
    self.run()
  File "/usr/lib/python3.6/multiprocessing/process.py", line 93, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/lib/python3.6/multiprocessing/pool.py", line 108, in worker
    task = get()
  File "/usr/lib/python3.6/multiprocessing/queues.py", line 334, in get
    with self._rlock:
  File "/usr/lib/python3.6/multiprocessing/synchronize.py", line 95, in __enter__
    return self._semlock.__enter__()
KeyboardInterrupt
Process ForkPoolWorker-22:
Traceback (most recent call last):
  File "/usr/lib/python3.6/multiprocessing/process.py", line 258, in _bootstrap
    self.run()
  File "/usr/lib/python3.6/multiprocessing/process.py", line 93, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/lib/python3.6/multiprocessing/pool.py", line 108, in worker
    task = get()
  File "/usr/lib/python3.6/multiprocessing/queues.py", line 334, in get
    with self._rlock:
  File "/usr/lib/python3.6/multiprocessing/synchronize.py", line 95, in __enter__
    return self._semlock.__enter__()
KeyboardInterrupt
Process ForkPoolWorker-18:
Traceback (most recent call last):
  File "/usr/lib/python3.6/multiprocessing/process.py", line 258, in _bootstrap
    self.run()
  File "/usr/lib/python3.6/multiprocessing/process.py", line 93, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/lib/python3.6/multiprocessing/pool.py", line 108, in worker
    task = get()
  File "/usr/lib/python3.6/multiprocessing/queues.py", line 335, in get
    res = self._reader.recv_bytes()
  File "/usr/lib/python3.6/multiprocessing/connection.py", line 216, in recv_bytes
    buf = self._recv_bytes(maxlength)
  File "/usr/lib/python3.6/multiprocessing/connection.py", line 407, in _recv_bytes
    buf = self._recv(4)
  File "/usr/lib/python3.6/multiprocessing/connection.py", line 379, in _recv
    chunk = read(handle, remaining)
KeyboardInterrupt
Process ForkPoolWorker-14:
Traceback (most recent call last):
  File "/usr/lib/python3.6/multiprocessing/process.py", line 258, in _bootstrap
    self.run()
  File "/usr/lib/python3.6/multiprocessing/process.py", line 93, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/lib/python3.6/multiprocessing/pool.py", line 108, in worker
    task = get()
  File "/usr/lib/python3.6/multiprocessing/queues.py", line 334, in get
    with self._rlock:
  File "/usr/lib/python3.6/multiprocessing/synchronize.py", line 95, in __enter__
    return self._semlock.__enter__()
KeyboardInterrupt
Process ForkPoolWorker-23:
Traceback (most recent call last):
  File "/usr/lib/python3.6/multiprocessing/process.py", line 258, in _bootstrap
    self.run()
  File "/usr/lib/python3.6/multiprocessing/process.py", line 93, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/lib/python3.6/multiprocessing/pool.py", line 108, in worker
    task = get()
  File "/usr/lib/python3.6/multiprocessing/queues.py", line 334, in get
    with self._rlock:
  File "/usr/lib/python3.6/multiprocessing/synchronize.py", line 95, in __enter__
    return self._semlock.__enter__()
KeyboardInterrupt
Process ForkPoolWorker-21:
Traceback (most recent call last):
  File "/usr/lib/python3.6/multiprocessing/process.py", line 258, in _bootstrap
    self.run()
  File "/usr/lib/python3.6/multiprocessing/process.py", line 93, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/lib/python3.6/multiprocessing/pool.py", line 119, in worker
    result = (True, func(*args, **kwds))
  File "/home/mangaravite/BoTG/BoWS/base.py", line 45, in _paired_distances_
    return sp.csr_matrix(paired_cosine_distances(model, X))
  File "/home/mangaravite/.local/lib/python3.6/site-packages/sklearn/metrics/pairwise.py", line 758, in paired_cosine_distances
    X, Y = check_paired_arrays(X, Y)
  File "/home/mangaravite/.local/lib/python3.6/site-packages/sklearn/metrics/pairwise.py", line 157, in check_paired_arrays
    X, Y = check_pairwise_arrays(X, Y)
  File "/home/mangaravite/.local/lib/python3.6/site-packages/sklearn/metrics/pairwise.py", line 114, in check_pairwise_arrays
    estimator=estimator)
  File "/home/mangaravite/.local/lib/python3.6/site-packages/sklearn/utils/validation.py", line 486, in check_array
    accept_large_sparse=accept_large_sparse)
  File "/home/mangaravite/.local/lib/python3.6/site-packages/sklearn/utils/validation.py", line 299, in _ensure_sparse_format
    spmatrix = spmatrix.asformat(accept_sparse[0])
  File "/usr/local/lib/python3.6/dist-packages/scipy/sparse/base.py", line 327, in asformat
    return convert_method(copy=copy)
  File "/usr/local/lib/python3.6/dist-packages/scipy/sparse/csc.py", line 141, in tocsr
    indptr = np.empty(M + 1, dtype=idx_dtype)
KeyboardInterrupt
Process ForkPoolWorker-15:
Traceback (most recent call last):
  File "/usr/lib/python3.6/multiprocessing/process.py", line 258, in _bootstrap
    self.run()
  File "/usr/lib/python3.6/multiprocessing/process.py", line 93, in run
    self._target(*self._args, **self._kwargs)
  File "/usr/lib/python3.6/multiprocessing/pool.py", line 119, in worker
    result = (True, func(*args, **kwds))
  File "/home/mangaravite/BoTG/BoWS/base.py", line 45, in _paired_distances_
    return sp.csr_matrix(paired_cosine_distances(model, X))
  File "/usr/local/lib/python3.6/dist-packages/scipy/sparse/compressed.py", line 83, in __init__
    self._set_self(self.__class__(coo_matrix(arg1, dtype=dtype)))
  File "/usr/local/lib/python3.6/dist-packages/scipy/sparse/compressed.py", line 32, in __init__
    arg1 = arg1.asformat(self.format)
  File "/usr/local/lib/python3.6/dist-packages/scipy/sparse/base.py", line 327, in asformat
    return convert_method(copy=copy)
  File "/usr/local/lib/python3.6/dist-packages/scipy/sparse/coo.py", line 394, in tocsr
    maxval=max(self.nnz, N))
  File "/usr/local/lib/python3.6/dist-packages/scipy/sparse/sputils.py", line 143, in get_index_dtype
    int32max = np.iinfo(np.int32).max
  File "/usr/local/lib/python3.6/dist-packages/numpy/core/getlimits.py", line 525, in max
    val = iinfo._max_vals[self.key]
KeyboardInterrupt
Traceback (most recent call last):
  File "/usr/lib/python3.6/multiprocessing/pool.py", line 720, in next
    item = self._items.popleft()
IndexError: pop from an empty deque

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/home/mangaravite/BoTG/BoWS/base.py", line 53, in transform_class_repr
    for i, m in tqdm(enumerate(pool.imap(_paired_distances_, params)), desc='Building class transformation', total=X.shape[0], smoothing=0.):
  File "/usr/local/lib/python3.6/dist-packages/tqdm/_tqdm.py", line 1022, in __iter__
    for obj in iterable:
  File "/usr/lib/python3.6/multiprocessing/pool.py", line 724, in next
    self._cond.wait(timeout)
  File "/usr/lib/python3.6/threading.py", line 295, in wait
    waiter.acquire()
KeyboardInterrupt

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "main.py", line 60, in <module>
    X_train_transformed = bows.fit_transform(X_train, y_train)
  File "/home/mangaravite/.local/lib/python3.6/site-packages/sklearn/base.py", line 556, in fit_transform
    return self.fit(X, y, **fit_params).transform(X)
  File "/home/mangaravite/BoTG/BoWS/base.py", line 98, in transform
    X_classes[self._le.inverse_transform([c])[0]] = transform_class_repr(X, self.models_[c].copy())
  File "/home/mangaravite/BoTG/BoWS/base.py", line 54, in transform_class_repr
    all_docs[i,:] = m
  File "/usr/lib/python3.6/multiprocessing/pool.py", line 611, in __exit__
    self.terminate()
  File "/usr/lib/python3.6/multiprocessing/pool.py", line 541, in terminate
    self._terminate()
  File "/usr/lib/python3.6/multiprocessing/util.py", line 186, in __call__
    res = self._callback(*self._args, **self._kwargs)
  File "/usr/lib/python3.6/multiprocessing/pool.py", line 571, in _terminate_pool
    cls._help_stuff_finish(inqueue, task_handler, len(pool))
  File "/usr/lib/python3.6/multiprocessing/pool.py", line 556, in _help_stuff_finish
    inqueue._rlock.acquire()
KeyboardInterrupt
